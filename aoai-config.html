<!-- config node -->
<script type="text/javascript">
  RED.nodes.registerType('aoai-config', {
    category: 'config',
    defaults: {
      name: { value: "Your Model Name", required: true },
      deploymentId: { value: "Model Deployment ID", required: true },
    },
    credentials: {
      endpoint: { value: "", required: true },
      apikey: { value: "", required: true },
    },
    label: function () {
      return this.name;
    }
  });
</script>

<script type="text/html" data-template-name="aoai-config">
  <div class="form-row">
    <label for="node-config-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-config-input-name">
  </div>
  <div class="form-row">
    <label for="node-config-input-deploymentId"><i class="fa fa-tag"></i> DEPLOYMENT-ID</label>
    <input type="text" id="node-config-input-deploymentId">
  </div>
  <div class="form-row">
    <label for="node-config-input-endpoint"><i class="fa fa-tag"></i> ENDPOINT</label>
    <input type="text" id="node-config-input-endpoint">
  </div>
  <div class="form-row">
    <label for="node-config-input-apikey"><i class="fa fa-tag"></i> API-KEY</label>
    <input type="text" id="node-config-input-apikey">
  </div>
</script>

<script type="text/html" data-help-name="aoai-config">
  <p>Configuring credentials</p>

  <h3>Config</h3>
  <dl class="message-properties">
    <dt>DEPLOYMENT-ID <span class="property-type">string</span></dt>
    <dd> Model Deployment ID, if you don't have one, go to Azure OpenAI Studio > Deployments > Create New Deployment</dd>
    <dt>ENDPOINT <span class="property-type">string</span></dt>
    <dd> Endpoint of the AI, it is usually <code>https://your-ai-instance.openai.azure.com/</code></dd>
    <dt>API-KEY <span class="property-type">string</span></dt>
    <dd> API Key of your AI model</dd>  
  </dl>

  <h3>References</h3>
  <ul>
    <li><a href="https://learn.microsoft.com/en-us/azure/ai-services/openai/">Azure OpenAI Docs</a> - full description of the openai flows</li>
  </ul>
</script>